# Стажировка

## Описание

Как пользователь, я хочу иметь возможность открывать стажировки для того, чтобы давать возможность другим пользователям, 
которые являются начинающими специалистами, работать над реальными проектами и получить помощь ментора.

## Условия задачи
В приложении есть сервис для работы с проектами — `project_service`.

На проекте может быть открыто сколько угодно стажировок. Стажировать можно людей на любые роли. 
На одной стажировке может быть несколько стажёров и один ментор. Если стажёр прошёл стажировку, он получает 
“не-стажёр-роль” в проекте. Стажёр — уже участник проекта.

В этой задаче нам нужно разработать возможность управления стажировками:

### Создать стажировку. 
Стажировка ВСЕГДА относится к какому-то одному проекту.  
Создать стажировку можно только в том случае, если есть кого стажировать.  
При создании нужно проверить, что стажировка длится не больше 3 месяцев, 
и что у стажирующихся есть ментор из команды проекта.

### Обновить стажировку. 
Если стажировка завершена, то стажирующиеся должны получить новые роли на проекте, если прошли, 
и быть удалены из списка участников проекта, если не прошли. 

Участник считается прошедшим стажировку, если все запланированные задачи выполнены. 

После старта стажировки нельзя добавлять новых стажёров. 

Стажировку можно пройти досрочно или досрочно быть уволенным.

### Получить все стажировки проекта с фильтрами по статусу или роли.

### Получить все стажировки.

### Получить стажировку по id.

## Тех. детали
Всё делаем в сервисе `project_service` (отдельный Java проект):

Под каждый пункт ниже создать метод в классе `InternshipController`. 

Провести необходимую валидацию принимаемых в эти методы данных, если необходимо. 

Контроллер принимает и возвращает только объекты `InternshipDto` или коллекции этих объектов. 

Нужно создать класс `InternshipDto` с минимальным необходимым набором полей для обеспечения работы функционала. 
Какие это вообще могут быть поля можно посмотреть в классе `Internship`, который уже заранее создан.

Далее из этих методов уже вызывать соответствующие методы класса `InternshipService`, 
которые выполняют всю бизнес-логику необходимую для того или иного действия. 

В каждом из этих методов также не забыть провести основную ЛОГИЧЕСКУЮ валидацию. 
Например, класс-контроллер валидирует то, что стажировка создаётся с каким-то не пустым списком стажёров. 
А сервис же проверит более сложные сценарии, например, что работу получит только тот, кто прошел стажировку. 

Далее в `InternshipService` используются методы `InternshipRepository` для непосредственного взаимодействия с БД. 
Эти методы уже готовы. Подробнее про каждый ниже. `InternshipService` также принимает и возвращает только 
объекты `InternshipDto`, но внутри своих методов может работать с заранее доступной сущностью `Internship`. 
Она уже есть в проекте. Используйте `MapStruct` библиотеку для удобного преобразования `InternshipDto` в `Internship` 
и наоборот.

Все классы c логикой должны быть _Spring beans_.

Везде помним про маппинг из **dto** в сущности для БД и наоборот! 

Максимально используем _**lombok**_ для всего! Все зависимости между _Spring bean_ должны быть проложены с помощью `autowiring`.

Для всех классов с логикой должны быть написаны unit-тесты, покрывающие все их публичные методы. Используем **JUnit** и **Mockito**.

## Подробности использования готовых компонентов
Если вы не знакомы с логикой работы с БД (пройдём позже на буткемпе) и не готовы разбираться с ней самостоятельно 
прямо сейчас, то в проекте уже заранее создан интерфейс `InternshipRepository` со всеми методами, которые могут 
вам пригодиться в процессе реализации этого функционала

Вот эти методы:

* `save(Internship internship)` — сохраняет новый объект стажировки в базу данных, или обновляет уже имеющуюся 
стажировку в базе данных, если её `id` уже существует в базе данных;
* `findById(long id)` — возвращает `Optional<Internship>`. Находит в базе данных строку со стажировкой с переданным 
в метод `id`. Возвращает `Optional` потому, что в БД может и не оказаться строки с таким `id`, если мы ищем 
несуществующую стажировку;
* `findAll()` — возвращает список из всех стажировок, содержащихся в базе данных;
* `deleteById()` — удаляет строку из БД по переданному `id`.